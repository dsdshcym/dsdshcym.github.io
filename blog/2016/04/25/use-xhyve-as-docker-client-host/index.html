<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Use xhyve as Docker client host - dsdshome</title>
    <meta charset="utf-8" />
    <meta name="author" content="Yiming Chen" />
    <meta name="keywords" content="Docker, xhyve, Mac" />
    <link rel="stylesheet" href="/media/css/main.css" type="text/css">
    <link rel="stylesheet" href="/media/css/prettify.css" type="text/css">
  </head>
  <body class="container">
    <div>
      <header class="masthead">
        <h1 class="masthead-title"><a href="/">dsdshome</a></h1>
        <p>This is my small blog :)</p>
        <ul>
          <li><a href="/blog/">Blog</a></li>
          <li><a href="/tags/">Tags</a></li>
          <li><a href="/about/">About</a></li>
          <li><a href="https://github.com/dsdshcym">GitHub</a></li>
          <li><a href="/rss.xml">RSS</a></li>
        </ul>
        <form method="get" id="searchform" action="//www.google.com/search">
          <input type="text" class="field" name="q" id="s" placeholder="Search">
          <input type="hidden" name="as_sitesearch" value="dsdshcym.github.io">
        </form>
      </header>
    </div>

<div>
<div class="post">
<h1>Use xhyve as Docker client host</h1>
<p>
When using Docker on a Mac, we need to use a Virtual Machine as the host of the
Docker client. (This is due to the differences between the kernel of Mac and
Linux) And most of the time, people will choose virtualbox. But it seems too
heavy comparing to the lightwight of Docker.
</p>

<p>
That's why the new Docker for Mac chooses to use xhyve as the new host of the
Docker client. But Docker for Mac is still in beta. Here is how to use xhyve via
docker-machine. It may not be as efficient as Docker for Mac Beta. But it's good
enough for a taste.
</p>

<ul class="org-ul">
<li><p>
<code>xhyve</code>
</p>

<p>
Follow the instruction <a href="https://github.com/mist64/xhyve#installation">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-sh">brew install --HEAD xhyve
</pre>
</div></li>
<li><p>
<code>docker-machine-driver-xhyve</code>
</p>

<p>
Follow the instruction <a href="https://github.com/zchee/docker-machine-driver-xhyve#install">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-sh">brew install docker-machine-driver-xhyve

# docker-machine-driver-xhyve need root owner and uid
sudo chown root:wheel $(brew --prefix)/opt/docker-machine-driver-xhyve/bin/docker-machine-driver-xhyve
sudo chmod u+s $(brew --prefix)/opt/docker-machine-driver-xhyve/bin/docker-machine-driver-xhyve
</pre>
</div></li>
<li><p>
<code>docker-machine create</code>
</p>

<p>
Use this instruction to create a xhyve VM. Remember to add the
<code>--xhyve-experimental-nfs-share</code> option to enable the file sharing.
</p>

<div class="org-src-container">
<pre class="src src-sh">docker-machine create --driver xhyve --xhyve-experimental-nfs-share dev-xhyve
</pre>
</div></li>
</ul>


<p>
The experience using xhyve is absolutly better than virtualbox. I hope I can use
Docker for Mac soon.
</p>

</div>
</div>
    <div>
      <div class="post-meta">
        <span title="post date" class="post-info">2016-04-25</span>
        <span title="last modification date" class="post-info">2016-04-25</span>
        <span title="tags" class="post-info"><a href="/tags/docker/">Docker</a>, <a href="/tags/mac/">Mac</a>, <a href="/tags/xhyve/">xhyve</a></span>
        <span title="author" class="post-info">Yiming Chen</span>
      </div>
      <section>
        <h1>Comments</h1>
      </section>
      <script src="//code.jquery.com/jquery-latest.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.js"></script>
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="/media/js/main.js"></script>
      <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.x (<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
          Copyright &copy; 2012 - <span id="footerYear"></span> <a href="mailto:dsdshcym &lt;at&gt; gmail &lt;dot&gt; com">Yiming Chen</a>
          &nbsp;&nbsp;-&nbsp;&nbsp;
          Powered by <a href="https://github.com/kelvinh/org-page" target="_blank">org-page</a>
          <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
      </div>
    </div>

  </body>
</html>
