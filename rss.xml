<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Yiming Chen</title>
    <link>https://yiming.dev</link>
    <description>My rants against Life and Software.</description>
    <pubDate>Mon, 29 Jun 2020 16:41:52 CST</pubDate>
    <lastBuildDate>Mon, 29 Jun 2020 16:41:52 CST</lastBuildDate>
    <docs>http://www.rssboard.org/rss-specification</docs>
    <generator>Org-page static site generator (https://github.com/kelvinh/org-page)</generator>
    <item>
      <title>Making Audit Logs on Hex.pm Public</title>
      <link>https://yiming.dev/blog/2020/06/29/making-audit-logs-on-hex-pm-public</link>
      <description><![CDATA[This post explains why Hex.pm is making its audit logs public and what kind of information you can find via these audit logs.]]></description>
      <content:encoded><![CDATA[<section id="content" role="main">
    <div id="post-container">
        <h1>Making Audit Logs on Hex.pm Public</h1>
        <p>
Third-party libraries are one of the most important building blocks for modern software development.
We can hardly build anything useful without depending on other's work.
But this dependency introduces a significant security risk:
malicious code can be injected to these third party libraries and get pulled into our application.
</p>

<p>
One way to inject malicious code is through the package manager.
We've seen many such accidents in various package managers in the past years:
<a href="https://github.com/rest-client/rest-client/issues/713#issuecomment-522735093">event-stream (from NPM) got injected in 2018 Nov</a>;
<a href="https://github.com/rest-client/rest-client/issues/713">rest-client (from RubyGems) got injected in 2019</a>.
This security threat is out there targeting every language and every ecosystem.
</p>

<p>
And this is why Hex team has been working on securing the Elixir/Erlang package manager for so long.
</p>
<ol class="org-ol">
<li><a href="https://github.com/hexpm/hexpm/pull/551">Hex.pm displays the package tarball checksum since 2017 Aug.</a></li>
<li><a href="https://github.com/hexpm/hexpm/pull/836/files">A new outer checksum mechanism was introduced in 2019 July.</a></li>
<li><a href="https://hex.pm/blog/announcing-hex-diff">Hex package differ was introduced in 2020 Jan.</a></li>
</ol>
<p>
All these features are aimed to help Elixir/Erlang developers to audit a package.<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>
Most importantly, Hexpm has been recording user actions as audit logs since 2016 Jan.
These audit logs include info about what actions are performed on packages, when these actions are performed, and who performed these actions.
So with these audit logs in place, we can know what actions are performed after an user account was compromised (if they published any new packages, added new owners to packages, etc.).
</p>

<p>
Now you can check these audit logs on Hexpm:
</p>
<ol class="org-ol">
<li><p>
Check who owns a package and who published a release.
</p>

<p>
In a package's show page, Hexpm displays its owner and publishers for its releases.
</p>


<div class="figure">
<p><img src="https://yiming.imfast.io/images/making-audit-logs-on-hex-pm-public/owners.png" alt="owners.png" width="50%" />
</p>
</div></li>
<li><p>
Check all actions performed around a package.
</p>

<p>
Hexpm displays all recent activities for a package:
</p>

<div class="figure">
<p><img src="https://yiming.imfast.io/images/making-audit-logs-on-hex-pm-public/package_recent_activities.png" alt="package_recent_activities.png" width="50%" />
</p>
</div>

<p>
And you can see all activities related to this package in a dedicated page:
</p>

<div class="figure">
<p><img src="https://yiming.imfast.io/images/making-audit-logs-on-hex-pm-public/package_all_activities.png" alt="package_all_activities.png" width="50%" />
</p>
</div></li>
<li><p>
Check all actions taken by your own user account.
</p>

<p>
You can go to your account dashboard and check all your recent activities:
</p>

<div class="figure">
<p><img src="https://yiming.imfast.io/images/making-audit-logs-on-hex-pm-public/user_activities.png" alt="user_activities.png" width="50%" />
</p>
</div></li>
<li>Check all these audit logs via Hexpm API.
If you have access to Hexpm API endpoints, you can fetch audit logs from the following endpoints:
<ul class="org-ul">
<li><code>GET /api/users/me/audit_logs</code></li>
<li><code>GET /api/orgs/:organization/audit_logs</code></li>
<li><code>GET /api/packages/:name/audit_logs</code></li>
<li><code>GET /api/repos/:repository/packages/:name/audit_logs</code></li>
</ul></li>
</ol>

<p>
By making audit information public, everyone can review the full history of a package on Hexpm.
Hopefully by doing so, we can bring more transparency to Hexpm and make our ecosystem more secure together.
</p>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
As a side note, <a href="https://hex.pm/blog/announcing-two-factor-auth">Two Factor Auth was added to Hex.pm in 2020 May</a> to help developers better secure their accounts.
</p></div></div>


</div>
</div>
    </div>
</section>
]]></content:encoded>
      <pubDate>2020-06-29</pubDate>
      <guid>https://yiming.dev/blog/2020/06/29/making-audit-logs-on-hex-pm-public</guid>
    </item>
    <item>
      <title>Clippings of 2020 May</title>
      <link>https://yiming.dev/clipping/2020/06/01/clippings-of-2020-may</link>
      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <pubDate>2020-06-28</pubDate>
      <guid>https://yiming.dev/clipping/2020/06/01/clippings-of-2020-may</guid>
    </item>
    <item>
      <title>Book Review: The Goal - A Process of Ongoing Improvement</title>
      <link>https://yiming.dev/blog/2020/06/05/book-review-the-goal-a-process-of-ongoing-improvement</link>
      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <pubDate>2020-06-08</pubDate>
      <guid>https://yiming.dev/blog/2020/06/05/book-review-the-goal-a-process-of-ongoing-improvement</guid>
    </item>
    <item>
      <title>Phoenix LiveView 简介</title>
      <link>https://yiming.dev/blog/2020/05/17/an-introduction-to-phoenix-live-view</link>
      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <pubDate>2020-05-17</pubDate>
      <guid>https://yiming.dev/blog/2020/05/17/an-introduction-to-phoenix-live-view</guid>
    </item>
    <item>
      <title>Clippings of 2020 Apr</title>
      <link>https://yiming.dev/clipping/2020/05/13/clippings-of-2020-apr</link>
      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <pubDate>2020-05-14</pubDate>
      <guid>https://yiming.dev/clipping/2020/05/13/clippings-of-2020-apr</guid>
    </item>
    <item>
      <title>如何在阿里云上部署 Dokku - 打造私有软件部署平台</title>
      <link>https://yiming.dev/blog/2020/05/09/setup-dokku-on-an-aliyun-server</link>
      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <pubDate>2020-05-11</pubDate>
      <guid>https://yiming.dev/blog/2020/05/09/setup-dokku-on-an-aliyun-server</guid>
    </item>
    <item>
      <title>OKR Case Study #4 - Key Results Don&#39;t Have to Be Numeric</title>
      <link>https://yiming.dev/blog/2020/05/07/okr-case-study-4-key-results-don&#39;t-have-to-be-numeric</link>
      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <pubDate>2020-05-07</pubDate>
      <guid>https://yiming.dev/blog/2020/05/07/okr-case-study-4-key-results-don&#39;t-have-to-be-numeric</guid>
    </item>
    <item>
      <title>Lessons Learned from Optimizing a Rails Endpoint by 100x</title>
      <link>https://yiming.dev/blog/2020/04/03/lessons-learned-from-optimizing-a-rails-endpoint-by-100x</link>
      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <pubDate>2020-05-06</pubDate>
      <guid>https://yiming.dev/blog/2020/04/03/lessons-learned-from-optimizing-a-rails-endpoint-by-100x</guid>
    </item>
    <item>
      <title>Clippings of 2020 Mar</title>
      <link>https://yiming.dev/clipping/2020/04/13/clippings-of-2020-mar</link>
      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <pubDate>2020-05-03</pubDate>
      <guid>https://yiming.dev/clipping/2020/04/13/clippings-of-2020-mar</guid>
    </item>
    <item>
      <title>OKR Case Study #3 - OKR is not about &quot;YOU&quot;</title>
      <link>https://yiming.dev/blog/2020/04/26/okr-case-study-3-okr-is-not-about-you</link>
      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <pubDate>2020-04-26</pubDate>
      <guid>https://yiming.dev/blog/2020/04/26/okr-case-study-3-okr-is-not-about-you</guid>
    </item>
  </channel>
</rss>